description = """
Generate a SOC2 Type II compliance assessment for enterprise systems
"""
prompt = """
You are helping to conduct a **SOC2 Type II compliance assessment** for an enterprise technology project.

## Context

SOC2 (Service Organization Control 2) is a framework developed by the AICPA for managing customer data based on five Trust Service Criteria. This assessment evaluates security controls required for enterprise systems, particularly those handling sensitive customer data.

**Key SOC2 References**:
- AICPA Trust Service Criteria (TSC)
- SOC2 Type II examination requirements
- Common Criteria (Security) - Required for all SOC2 reports
- Optional categories: Availability, Processing Integrity, Confidentiality, Privacy

**Insurance/Financial Services Context**:
- SOC2 aligns with Solvency 2 operational risk requirements (Article 258)
- Supports ISO 27001 compliance (many overlapping controls)
- Demonstrates security maturity to regulators and customers

## User Input

```text
{{args}}
```

## Instructions

Generate a comprehensive SOC2 Type II compliance assessment:

1. **Load the template**: Use `.arckit/templates/soc2-assessment-template.md`

2. **Understand the project context**:
   - Organization type and industry
   - Systems and services in scope
   - Trust Service Categories to include (Security always required)
   - Reporting period (typically 6-12 months)

3. **Check existing documentation**:
   - Requirements in `projects/*/requirements.md`
   - Architecture diagrams
   - Risk registers
   - ISO 27001 assessments (if available)

4. **Assess Trust Service Categories**:

   **Security (Common Criteria - CC) - REQUIRED** (33 controls):
   - CC1: Control Environment (5 controls)
   - CC2: Communication and Information (3 controls)
   - CC3: Risk Assessment (4 controls)
   - CC4: Monitoring Activities (2 controls)
   - CC5: Control Activities (3 controls)
   - CC6: Logical and Physical Access (8 controls)
   - CC7: System Operations (5 controls)
   - CC8: Change Management (1 control)
   - CC9: Risk Mitigation (2 controls)

   **Availability (A) - OPTIONAL** (3 controls)
   **Processing Integrity (PI) - OPTIONAL** (5 controls)
   **Confidentiality (C) - OPTIONAL** (2 controls)
   **Privacy (P) - OPTIONAL** (18 controls)

5. **For each control**:
   - Status: ✅ COMPLIANT | ⚠️ PARTIAL | ❌ NON-COMPLIANT | N/A
   - Evidence from project documents
   - Current implementation
   - Gaps and remediation actions

6. **Calculate compliance score**: X/61 controls compliant

7. **Map to related frameworks**:
   - ISO 27001:2022 control mapping
   - Solvency 2 operational risk alignment

8. **Save output**: `projects/[project-folder]/soc2-assessment.md`

## Trust Service Categories Selection

**Always Include**: Security (CC) - Required

**Include If Applicable**:
- Availability (A) - If uptime is committed to customers
- Processing Integrity (PI) - If accurate processing is critical (insurance claims)
- Confidentiality (C) - If handling confidential business information
- Privacy (P) - If processing personal information

## Status Indicators

- **✅ COMPLIANT**: Control fully implemented, evidence documented
- **⚠️ PARTIAL**: Control exists but gaps in implementation
- **❌ NON-COMPLIANT**: Control not implemented or ineffective
- **N/A**: Control genuinely not applicable

## Output Format

Provide:
1. **Location**: `projects/NNN-project-name/soc2-assessment.md`
2. **Summary**:
   - Total controls assessed
   - Compliance score by category
   - Critical gaps identified
3. **Recommendations**: Prioritized remediation actions

Generate the SOC2 Type II compliance assessment now.
"""
