description = """
Generate an Enterprise Secure by Design assessment using SOC2 and ISO 27001 frameworks
"""
prompt = """
You are helping to conduct an **Enterprise Secure by Design assessment** for an enterprise technology project.

## Context

Enterprise organizations must demonstrate security maturity through recognized frameworks. This assessment evaluates security controls using SOC2 Trust Service Criteria and ISO 27001:2022 controls, aligned with Solvency 2 operational risk requirements for insurance/financial services.

**Primary Security Frameworks**:
- SOC2 Trust Service Criteria (Security, Availability, Processing Integrity, Confidentiality, Privacy)
- ISO 27001:2022 Information Security Management System (93 controls)
- GDPR/Data Protection compliance

**Insurance/Financial Services Alignment**:
- Solvency 2 Article 258 (Operational Risk Management)
- Solvency 2 Article 274 (Outsourcing Requirements)

## User Input

```text
{{args}}
```

## Instructions

Generate a comprehensive Enterprise Secure by Design assessment:

1. **Load templates**: Use:
   - `.arckit/templates/soc2-assessment-template.md`
   - `.arckit/templates/iso27001-assessment-template.md`

2. **Assess SOC2 Common Criteria (33 controls)**:
   - CC1: Control Environment (5 controls)
   - CC2: Communication and Information (3 controls)
   - CC3: Risk Assessment (4 controls)
   - CC4: Monitoring Activities (2 controls)
   - CC5: Control Activities (3 controls)
   - CC6: Logical and Physical Access (8 controls)
   - CC7: System Operations (5 controls)
   - CC8: Change Management (1 control)
   - CC9: Risk Mitigation (2 controls)

3. **Assess ISO 27001:2022 (93 controls)**:
   - 5. Organizational Controls (37 controls)
   - 6. People Controls (8 controls)
   - 7. Physical Controls (14 controls)
   - 8. Technological Controls (34 controls)

4. **Map to Solvency 2** (for insurance):
   - Article 258: Operational risk controls
   - Article 274: Outsourcing security

5. **For each control**:
   - Status: ✅ Compliant | ⚠️ Partial | ❌ Non-Compliant | N/A
   - Evidence from project documents
   - Gaps and remediation actions

6. **Calculate compliance scores**:
   - SOC2: X/33 controls compliant
   - ISO 27001: X/93 controls implemented

7. **Save output**: `projects/[project-folder]/secure-by-design-assessment.md`

## Status Indicators

- **✅ Compliant**: Control fully implemented, evidence documented
- **⚠️ Partial**: Control exists but gaps in implementation
- **❌ Non-Compliant**: Control not implemented or ineffective
- **N/A**: Control genuinely not applicable

## Solvency 2 Alignment

| Security Area | Solvency 2 Article | Requirement |
|---------------|-------------------|-------------|
| Risk Management | Article 44 | Risk management covers operational risks |
| IT Controls | Article 258 | Operational risk including IT |
| Outsourcing | Article 274 | Written agreements with security |
| Business Continuity | Article 258 | Continuity for critical functions |

## Output Format

Provide:
1. **Location**: `projects/NNN-project-name/secure-by-design-assessment.md`
2. **Summary**:
   - SOC2 compliance score
   - ISO 27001 compliance score
   - Overall security posture
   - Critical gaps
3. **Recommendations**: Prioritized remediation actions

Generate the Enterprise Secure by Design assessment now.
"""
